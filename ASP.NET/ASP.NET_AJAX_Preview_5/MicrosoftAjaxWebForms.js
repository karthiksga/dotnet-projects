// (c) 2009 Microsoft Corporation, All Rights Reserved
// Use of this software is subject to the following license terms: 
// http://go.microsoft.com/fwlink/?LinkId=163454
Type._registerScript("MicrosoftAjaxWebForms.js",["MicrosoftAjaxCore.js","MicrosoftAjaxSerialization.js","MicrosoftAjaxNetwork.js","MicrosoftAjaxComponentModel.js"]);Type.registerNamespace("Sys.WebForms");Sys.WebForms.BeginRequestEventArgs=function(d,c,b){var a=this;Sys.WebForms.BeginRequestEventArgs.initializeBase(a);a._request=d;a._postBackElement=c;a._updatePanelsToUpdate=b};Sys.WebForms.BeginRequestEventArgs.prototype={get_postBackElement:function(){return this._postBackElement},get_request:function(){return this._request},get_updatePanelsToUpdate:function(){return this._updatePanelsToUpdate?Array.clone(this._updatePanelsToUpdate):[]}};Sys.WebForms.BeginRequestEventArgs.registerClass("Sys.WebForms.BeginRequestEventArgs",Sys.EventArgs);Sys.WebForms.EndRequestEventArgs=function(d,b,c){var a=this;Sys.WebForms.EndRequestEventArgs.initializeBase(a);a._errorHandled=false;a._error=d;a._dataItems=b||{};a._response=c};Sys.WebForms.EndRequestEventArgs.prototype={get_dataItems:function(){return this._dataItems},get_error:function(){return this._error},get_errorHandled:function(){return this._errorHandled},set_errorHandled:function(a){this._errorHandled=a},get_response:function(){return this._response}};Sys.WebForms.EndRequestEventArgs.registerClass("Sys.WebForms.EndRequestEventArgs",Sys.EventArgs);Sys.WebForms.InitializeRequestEventArgs=function(d,c,b){var a=this;Sys.WebForms.InitializeRequestEventArgs.initializeBase(a);a._request=d;a._postBackElement=c;a._updatePanelsToUpdate=b};Sys.WebForms.InitializeRequestEventArgs.prototype={get_postBackElement:function(){return this._postBackElement},get_request:function(){return this._request},get_updatePanelsToUpdate:function(){return this._updatePanelsToUpdate?Array.clone(this._updatePanelsToUpdate):[]},set_updatePanelsToUpdate:function(a){this._updated=true;this._updatePanelsToUpdate=a}};Sys.WebForms.InitializeRequestEventArgs.registerClass("Sys.WebForms.InitializeRequestEventArgs",Sys.CancelEventArgs);Sys.WebForms.PageLoadedEventArgs=function(c,b,d){var a=this;Sys.WebForms.PageLoadedEventArgs.initializeBase(a);a._panelsUpdated=c;a._panelsCreated=b;a._dataItems=d||{}};Sys.WebForms.PageLoadedEventArgs.prototype={get_dataItems:function(){return this._dataItems},get_panelsCreated:function(){return this._panelsCreated},get_panelsUpdated:function(){return this._panelsUpdated}};Sys.WebForms.PageLoadedEventArgs.registerClass("Sys.WebForms.PageLoadedEventArgs",Sys.EventArgs);Sys.WebForms.PageLoadingEventArgs=function(c,b,d){var a=this;Sys.WebForms.PageLoadingEventArgs.initializeBase(a);a._panelsUpdating=c;a._panelsDeleting=b;a._dataItems=d||{}};Sys.WebForms.PageLoadingEventArgs.prototype={get_dataItems:function(){return this._dataItems},get_panelsDeleting:function(){return this._panelsDeleting},get_panelsUpdating:function(){return this._panelsUpdating}};Sys.WebForms.PageLoadingEventArgs.registerClass("Sys.WebForms.PageLoadingEventArgs",Sys.EventArgs);Sys._ScriptLoader=function(){var a=this;a._scriptsToLoad=null;a._sessions=[];a._scriptLoadedDelegate=Function.createDelegate(a,a._scriptLoadedHandler)};Sys._ScriptLoader.prototype={dispose:function(){var a=this;a._stopSession();a._loading=false;if(a._events)delete a._events;a._sessions=null;a._currentSession=null;a._scriptLoadedDelegate=null},loadScripts:function(e,c,d,b){var a=this,f={allScriptsLoadedCallback:c,scriptLoadFailedCallback:d,scriptLoadTimeoutCallback:b,scriptsToLoad:a._scriptsToLoad,scriptTimeout:e};a._scriptsToLoad=null;a._sessions[a._sessions.length]=f;if(!a._loading)a._nextSession()},queueCustomScriptTag:function(a){if(!this._scriptsToLoad)this._scriptsToLoad=[];Array.add(this._scriptsToLoad,a)},queueScriptBlock:function(a){if(!this._scriptsToLoad)this._scriptsToLoad=[];Array.add(this._scriptsToLoad,{text:a})},queueScriptReference:function(a){if(!this._scriptsToLoad)this._scriptsToLoad=[];Array.add(this._scriptsToLoad,{src:a})},_createScriptElement:function(b){var a=document.createElement("script");a.type="text/javascript";for(var c in b)a[c]=b[c];return a},_loadScriptsInternal:function(){var a=this,c=a._currentSession;if(c.scriptsToLoad&&c.scriptsToLoad.length>0){var d=Array.dequeue(c.scriptsToLoad),b=a._createScriptElement(d);if(b.text&&Sys.Browser.agent===Sys.Browser.Safari){b.innerHTML=b.text;delete b.text}if(typeof d.src==="string"){a._currentTask=new Sys._ScriptLoaderTask(b,a._scriptLoadedDelegate);a._currentTask.execute()}else{document.getElementsByTagName("head")[0].appendChild(b);Sys._ScriptLoaderTask._clearScript(b);a._loadScriptsInternal()}}else{a._stopSession();var e=c.allScriptsLoadedCallback;if(e)e(a);a._nextSession()}},_nextSession:function(){var a=this;if(a._sessions.length===0){a._loading=false;a._currentSession=null;return}a._loading=true;var b=Array.dequeue(a._sessions);a._currentSession=b;if(b.scriptTimeout>0)a._timeoutCookie=window.setTimeout(Function.createDelegate(a,a._scriptLoadTimeoutHandler),b.scriptTimeout*1e3);a._loadScriptsInternal()},_raiseError:function(){var a=this,c=a._currentSession.scriptLoadFailedCallback,b=a._currentTask.get_scriptElement();a._stopSession();if(c){c(a,b);a._nextSession()}else{a._loading=false;throw Sys._ScriptLoader._errorScriptLoadFailed(b.src)}},_scriptLoadedHandler:function(b,c){var a=this;if(c){Array.add(Sys._ScriptLoader._getLoadedScripts(),b.src);a._currentTask.dispose();a._currentTask=null;a._loadScriptsInternal()}else a._raiseError()},_scriptLoadTimeoutHandler:function(){var a=this,b=a._currentSession.scriptLoadTimeoutCallback;a._stopSession();if(b)b(a);a._nextSession()},_stopSession:function(){var a=this;if(a._timeoutCookie){window.clearTimeout(a._timeoutCookie);a._timeoutCookie=null}if(a._currentTask){a._currentTask.dispose();a._currentTask=null}}};Sys._ScriptLoader.registerClass("Sys._ScriptLoader",null,Sys.IDisposable);Sys._ScriptLoader.getInstance=function(){var a=Sys._ScriptLoader._activeInstance;if(!a)a=Sys._ScriptLoader._activeInstance=new Sys._ScriptLoader;return a};Sys._ScriptLoader.isScriptLoaded=function(b){var a=document.createElement("script");a.src=b;return Array.contains(Sys._ScriptLoader._getLoadedScripts(),a.src)};Sys._ScriptLoader.readLoadedScripts=function(){if(!Sys._ScriptLoader._referencedScripts){var b=Sys._ScriptLoader._referencedScripts=[],c=document.getElementsByTagName("script");for(i=c.length-1;i>=0;i--){var d=c[i],a=d.src;if(a.length)if(!Array.contains(b,a))Array.add(b,a)}}};Sys._ScriptLoader._errorScriptLoadFailed=function(b){var a;a=Sys.Res.scriptLoadFailed;var d="Sys.ScriptLoadFailedException: "+String.format(a,b),c=Error.create(d,{name:"Sys.ScriptLoadFailedException",scriptUrl:b});c.popStackFrame();return c};Sys._ScriptLoader._getLoadedScripts=function(){if(!Sys._ScriptLoader._referencedScripts){Sys._ScriptLoader._referencedScripts=[];Sys._ScriptLoader.readLoadedScripts()}return Sys._ScriptLoader._referencedScripts};Sys.WebForms.PageRequestManager=function(){var b=null,a=this;a._form=b;a._activeDefaultButton=b;a._activeDefaultButtonClicked=false;a._updatePanelIDs=b;a._updatePanelClientIDs=b;a._updatePanelHasChildrenAsTriggers=b;a._asyncPostBackControlIDs=b;a._asyncPostBackControlClientIDs=b;a._postBackControlIDs=b;a._postBackControlClientIDs=b;a._scriptManagerID=b;a._pageLoadedHandler=b;a._additionalInput=b;a._onsubmit=b;a._onSubmitStatements=[];a._originalDoPostBack=b;a._originalDoPostBackWithOptions=b;a._originalFireDefaultButton=b;a._originalDoCallback=b;a._isCrossPost=false;a._postBackSettings=b;a._request=b;a._onFormSubmitHandler=b;a._onFormElementClickHandler=b;a._onWindowUnloadHandler=b;a._asyncPostBackTimeout=b;a._controlIDToFocus=b;a._scrollPosition=b;a._processingRequest=false;a._scriptDisposes={};a._transientFields=["__VIEWSTATEENCRYPTED","__VIEWSTATEFIELDCOUNT"]};Sys.WebForms.PageRequestManager.prototype={_get_eventHandlerList:function(){if(!this._events)this._events=new Sys.EventHandlerList;return this._events},get_isInAsyncPostBack:function(){return this._request!==null},add_beginRequest:function(a){this._get_eventHandlerList().addHandler("beginRequest",a)},remove_beginRequest:function(a){this._get_eventHandlerList().removeHandler("beginRequest",a)},add_endRequest:function(a){this._get_eventHandlerList().addHandler("endRequest",a)},remove_endRequest:function(a){this._get_eventHandlerList().removeHandler("endRequest",a)},add_initializeRequest:function(a){this._get_eventHandlerList().addHandler("initializeRequest",a)},remove_initializeRequest:function(a){this._get_eventHandlerList().removeHandler("initializeRequest",a)},add_pageLoaded:function(a){this._get_eventHandlerList().addHandler("pageLoaded",a)},remove_pageLoaded:function(a){this._get_eventHandlerList().removeHandler("pageLoaded",a)},add_pageLoading:function(a){this._get_eventHandlerList().addHandler("pageLoading",a)},remove_pageLoading:function(a){this._get_eventHandlerList().removeHandler("pageLoading",a)},abortPostBack:function(){var a=this;if(!a._processingRequest&&a._request){a._request.get_executor().abort();a._request=null}},beginAsyncPostBack:function(d,b,g,e,f){var a=this;if(e&&typeof Page_ClientValidate==="function"&&!Page_ClientValidate(f||null))return;a._postBackSettings=a._createPostBackSettings(true,d,b);var c=a._form;c.__EVENTTARGET.value=b||"";c.__EVENTARGUMENT.value=g||"";a._isCrossPost=false;a._additionalInput=null;a._onFormSubmit()},_cancelPendingCallbacks:function(){for(var a=0,e=window.__pendingCallbacks.length;a<e;a++){var c=window.__pendingCallbacks[a];if(c){if(!c.async)window.__synchronousCallBackIndex=-1;window.__pendingCallbacks[a]=null;var d="__CALLBACKFRAME"+a,b=document.getElementById(d);if(b)b.parentNode.removeChild(b)}}},_commitControls:function(a,c){var b=this;if(a){b._updatePanelIDs=a.updatePanelIDs;b._updatePanelClientIDs=a.updatePanelClientIDs;b._updatePanelHasChildrenAsTriggers=a.updatePanelHasChildrenAsTriggers;b._asyncPostBackControlIDs=a.asyncPostBackControlIDs;b._asyncPostBackControlClientIDs=a.asyncPostBackControlClientIDs;b._postBackControlIDs=a.postBackControlIDs;b._postBackControlClientIDs=a.postBackControlClientIDs}if(typeof c!=="undefined"&&c!==null)b._asyncPostBackTimeout=c*1e3},_createHiddenField:function(c,d){var b,a=document.getElementById(c);if(a)if(!a._isContained)a.parentNode.removeChild(a);else b=a.parentNode;if(!b){b=document.createElement("span");b.style.cssText="display:none !important";this._form.appendChild(b)}b.innerHTML="<input type='hidden' />";a=b.childNodes[0];a._isContained=true;a.id=a.name=c;a.value=d},_createPageRequestManagerTimeoutError:function(){var b="Sys.WebForms.PageRequestManagerTimeoutException: "+Sys.WebForms.Res.PRM_TimeoutError,a=Error.create(b,{name:"Sys.WebForms.PageRequestManagerTimeoutException"});a.popStackFrame();return a},_createPageRequestManagerServerError:function(a,d){var c="Sys.WebForms.PageRequestManagerServerErrorException: "+(d||String.format(Sys.WebForms.Res.PRM_ServerError,a)),b=Error.create(c,{name:"Sys.WebForms.PageRequestManagerServerErrorException",httpStatusCode:a});b.popStackFrame();return b},_createPageRequestManagerParserError:function(b){var c="Sys.WebForms.PageRequestManagerParserErrorException: "+String.format(Sys.WebForms.Res.PRM_ParserError,b),a=Error.create(c,{name:"Sys.WebForms.PageRequestManagerParserErrorException"});a.popStackFrame();return a},_createPanelID:function(e,b){var c=b.asyncTarget,a=this._ensureUniqueIds(e||b.panelsToUpdate),d=a instanceof Array?a.join(","):a||this._scriptManagerID;if(c)d+="|"+c;return encodeURIComponent(this._scriptManagerID)+"="+encodeURIComponent(d)+"&"},_createPostBackSettings:function(d,a,c,b){return {async:d,asyncTarget:c,panelsToUpdate:a,sourceElement:b}},_convertToClientIDs:function(a,f,e,d){if(a)for(var b=0,h=a.length;b<h;b+=d?2:1){var c=a[b],g=(d?a[b+1]:"")||this._uniqueIDToClientID(c);Array.add(f,c);Array.add(e,g)}},dispose:function(){var b=null,a=this;if(a._form){Sys.UI.DomEvent.removeHandler(a._form,"submit",a._onFormSubmitHandler);Sys.UI.DomEvent.removeHandler(a._form,"click",a._onFormElementClickHandler);Sys.UI.DomEvent.removeHandler(window,"unload",a._onWindowUnloadHandler);Sys.UI.DomEvent.removeHandler(window,"load",a._pageLoadedHandler)}if(a._originalDoPostBack){window.__doPostBack=a._originalDoPostBack;a._originalDoPostBack=b}if(a._originalDoPostBackWithOptions){window.WebForm_DoPostBackWithOptions=a._originalDoPostBackWithOptions;a._originalDoPostBackWithOptions=b}if(a._originalFireDefaultButton){window.WebForm_FireDefaultButton=a._originalFireDefaultButton;a._originalFireDefaultButton=b}if(a._originalDoCallback){window.WebForm_DoCallback=a._originalDoCallback;a._originalDoCallback=b}a._form=b;a._updatePanelIDs=b;a._updatePanelClientIDs=b;a._asyncPostBackControlIDs=b;a._asyncPostBackControlClientIDs=b;a._postBackControlIDs=b;a._postBackControlClientIDs=b;a._asyncPostBackTimeout=b;a._scrollPosition=b},_doCallback:function(d,b,c,f,a,e){if(!this.get_isInAsyncPostBack())this._originalDoCallback(d,b,c,f,a,e)},_doPostBack:function(b,h){var d=false,c=null,a=this;a._additionalInput=c;var e=a._form;if(b===c||typeof b==="undefined"||a._isCrossPost){a._postBackSettings=a._createPostBackSettings(d);a._isCrossPost=d}else{var i=a._uniqueIDToClientID(b),g=document.getElementById(i);if(!g)if(Array.contains(a._asyncPostBackControlIDs,b))a._postBackSettings=a._createPostBackSettings(true,c,b);else if(Array.contains(a._postBackControlIDs,b))a._postBackSettings=a._createPostBackSettings(d);else{var f=a._findNearestElement(b);if(f)a._postBackSettings=a._getPostBackSettings(f,b);else a._postBackSettings=a._createPostBackSettings(d)}else a._postBackSettings=a._getPostBackSettings(g,b)}if(!a._postBackSettings.async){e.onsubmit=a._onsubmit;a._originalDoPostBack(b,h);e.onsubmit=c;return}e.__EVENTTARGET.value=b;e.__EVENTARGUMENT.value=h;a._onFormSubmit()},_doPostBackWithOptions:function(a){this._isCrossPost=a&&a.actionUrl;this._originalDoPostBackWithOptions(a)},_elementContains:function(b,a){while(a){if(a===b)return true;a=a.parentNode}return false},_endPostBack:function(b,e,g){var a=this;if(a._request===e.get_webRequest()){a._processingRequest=false;a._additionalInput=null;a._request=null}var f=a._get_eventHandlerList().getHandler("endRequest"),c=false;if(f){var d=new Sys.WebForms.EndRequestEventArgs(b,g?g.dataItems:{},e);f(a,d);c=d.get_errorHandled()}if(b&&!c)throw b},_ensureUniqueIds:function(a){if(!a)return a;a=a instanceof Array?a:[a];var c=[];for(var b=0,f=a.length;b<f;b++){var e=a[b],d=Array.indexOf(this._updatePanelClientIDs,e);c.push(d>-1?this._updatePanelIDs[d]:e)}return c},_findNearestElement:function(a){while(a.length>0){var d=this._uniqueIDToClientID(a),c=document.getElementById(d);if(c)return c;var b=a.lastIndexOf("$");if(b===-1)return null;a=a.substring(0,b)}return null},_findText:function(b,a){var c=Math.max(0,a-20),d=Math.min(b.length,a+20);return b.substring(c,d)},_fireDefaultButton:function(a,d){if(a.keyCode===13){var c=a.srcElement||a.target;if(!c||c.tagName.toLowerCase()!=="textarea"){var b=document.getElementById(d);if(b&&typeof b.click!=="undefined"){this._activeDefaultButton=b;this._activeDefaultButtonClicked=false;try{b.click()}finally{this._activeDefaultButton=null}a.cancelBubble=true;if(typeof a.stopPropagation==="function")a.stopPropagation();return false}}}return true},_getPageLoadedEventArgs:function(n,c){var m=[],l=[],k=c?c.version4:false,d=c?c.updatePanelData:null,e,g,h,b;if(!d){e=this._updatePanelIDs;g=this._updatePanelClientIDs;h=null;b=null}else{e=d.updatePanelIDs;g=d.updatePanelClientIDs;h=d.childUpdatePanelIDs;b=d.panelsToRefreshIDs}var a,f,j,i;if(b)for(a=0,f=b.length;a<f;a+=k?2:1){j=b[a];i=(k?b[a+1]:"")||this._uniqueIDToClientID(j);Array.add(m,document.getElementById(i))}for(a=0,f=e.length;a<f;a++)if(n||Array.indexOf(h,e[a])!==-1)Array.add(l,document.getElementById(g[a]));return new Sys.WebForms.PageLoadedEventArgs(m,l,c?c.dataItems:{})},_getPageLoadingEventArgs:function(f){var j=[],i=[],c=f.updatePanelData,k=c.oldUpdatePanelIDs,l=c.oldUpdatePanelClientIDs,n=c.updatePanelIDs,m=c.childUpdatePanelIDs,d=c.panelsToRefreshIDs,a,e,b,g,h=f.version4;for(a=0,e=d.length;a<e;a+=h?2:1){b=d[a];g=(h?d[a+1]:"")||this._uniqueIDToClientID(b);Array.add(j,document.getElementById(g))}for(a=0,e=k.length;a<e;a++){b=k[a];if(Array.indexOf(d,b)===-1&&(Array.indexOf(n,b)===-1||Array.indexOf(m,b)>-1))Array.add(i,document.getElementById(l[a]))}return new Sys.WebForms.PageLoadingEventArgs(j,i,f.dataItems)},_getPostBackSettings:function(b,d){var g=true,f=null,a=this,e=b,c=f;while(b){if(b.id){if(!c&&Array.contains(a._asyncPostBackControlClientIDs,b.id))c=a._createPostBackSettings(g,f,d,e);else if(!c&&Array.contains(a._postBackControlClientIDs,b.id))return a._createPostBackSettings(false);else{var h=Array.indexOf(a._updatePanelClientIDs,b.id);if(h!==-1)if(a._updatePanelHasChildrenAsTriggers[h])return a._createPostBackSettings(g,[a._updatePanelIDs[h]],d,e);else return a._createPostBackSettings(g,f,d,e)}if(!c&&a._matchesParentIDInList(b.id,a._asyncPostBackControlClientIDs))c=a._createPostBackSettings(g,f,d,e);else if(!c&&a._matchesParentIDInList(b.id,a._postBackControlClientIDs))return a._createPostBackSettings(false)}b=b.parentNode}if(!c)return a._createPostBackSettings(false);else return c},_getScrollPosition:function(){var b=this,a=document.documentElement;if(a&&(b._validPosition(a.scrollLeft)||b._validPosition(a.scrollTop)))return {x:a.scrollLeft,y:a.scrollTop};else{a=document.body;if(a&&(b._validPosition(a.scrollLeft)||b._validPosition(a.scrollTop)))return {x:a.scrollLeft,y:a.scrollTop};else if(b._validPosition(window.pageXOffset)||b._validPosition(window.pageYOffset))return {x:window.pageXOffset,y:window.pageYOffset};else return {x:0,y:0}}},_initializeInternal:function(f,g,b,c,e,d){var a=this;if(a._prmInitialized)throw Error.invalidOperation(Sys.WebForms.Res.PRM_CannotRegisterTwice);a._prmInitialized=true;a._scriptManagerID=f;a._form=Sys.UI.DomElement.resolveElement(g);a._onsubmit=a._form.onsubmit;a._form.onsubmit=null;a._onFormSubmitHandler=Function.createDelegate(a,a._onFormSubmit);a._onFormElementClickHandler=Function.createDelegate(a,a._onFormElementClick);a._onWindowUnloadHandler=Function.createDelegate(a,a._onWindowUnload);Sys.UI.DomEvent.addHandler(a._form,"submit",a._onFormSubmitHandler);Sys.UI.DomEvent.addHandler(a._form,"click",a._onFormElementClickHandler);Sys.UI.DomEvent.addHandler(window,"unload",a._onWindowUnloadHandler);a._originalDoPostBack=window.__doPostBack;if(a._originalDoPostBack)window.__doPostBack=Function.createDelegate(a,a._doPostBack);a._originalDoPostBackWithOptions=window.WebForm_DoPostBackWithOptions;if(a._originalDoPostBackWithOptions)window.WebForm_DoPostBackWithOptions=Function.createDelegate(a,a._doPostBackWithOptions);a._originalFireDefaultButton=window.WebForm_FireDefaultButton;if(a._originalFireDefaultButton)window.WebForm_FireDefaultButton=Function.createDelegate(a,a._fireDefaultButton);a._originalDoCallback=window.WebForm_DoCallback;if(a._originalDoCallback)window.WebForm_DoCallback=Function.createDelegate(a,a._doCallback);a._pageLoadedHandler=Function.createDelegate(a,a._pageLoadedInitialLoad);Sys.UI.DomEvent.addHandler(window,"load",a._pageLoadedHandler);if(b)a._updateControls(b,c,e,d,true)},_matchesParentIDInList:function(c,b){for(var a=0,d=b.length;a<d;a++)if(c.startsWith(b[a]+"_"))return true;return false},_onFormElementActive:function(a,e,f){var b=this;if(a.disabled)return;b._postBackSettings=b._getPostBackSettings(a,a.name);if(a.name){var c=a.tagName.toUpperCase();if(c==="INPUT"){var d=a.type;if(d==="submit")b._additionalInput=encodeURIComponent(a.name)+"="+encodeURIComponent(a.value);else if(d==="image")b._additionalInput=encodeURIComponent(a.name)+".x="+e+"&"+encodeURIComponent(a.name)+".y="+f}else if(c==="BUTTON"&&a.name.length!==0&&a.type==="submit")b._additionalInput=encodeURIComponent(a.name)+"="+encodeURIComponent(a.value)}},_onFormElementClick:function(a){this._activeDefaultButtonClicked=a.target===this._activeDefaultButton;this._onFormElementActive(a.target,a.offsetX,a.offsetY)},_onFormSubmit:function(j){var a=this,g,v,i=true,w=a._isCrossPost;a._isCrossPost=false;if(a._onsubmit)i=a._onsubmit();if(i)for(g=0,v=a._onSubmitStatements.length;g<v;g++)if(!a._onSubmitStatements[g]()){i=false;break}if(!i){if(j)j.preventDefault();return}var p=a._form;if(w)return;if(a._activeDefaultButton&&!a._activeDefaultButtonClicked)a._onFormElementActive(a._activeDefaultButton,0,0);if(!a._postBackSettings||!a._postBackSettings.async)return;var b=new Sys.StringBuilder,y=p.elements.length,s=a._createPanelID(null,a._postBackSettings);b.append(s);for(g=0;g<y;g++){var f=p.elements[g],h=f.name;if(typeof h==="undefined"||h===null||h.length===0||h===a._scriptManagerID)continue;var o=f.tagName.toUpperCase();if(o==="INPUT"){var m=f.type;if(m==="text"||m==="password"||m==="hidden"||(m==="checkbox"||m==="radio")&&f.checked){b.append(encodeURIComponent(h));b.append("=");b.append(encodeURIComponent(f.value));b.append("&")}}else if(o==="SELECT"){var x=f.options.length;for(var q=0;q<x;q++){var t=f.options[q];if(t.selected){b.append(encodeURIComponent(h));b.append("=");b.append(encodeURIComponent(t.value));b.append("&")}}}else if(o==="TEXTAREA"){b.append(encodeURIComponent(h));b.append("=");b.append(encodeURIComponent(f.value));b.append("&")}}b.append("__ASYNCPOST=true&");if(a._additionalInput){b.append(a._additionalInput);a._additionalInput=null}var c=new Sys.Net.WebRequest,d=p.action;if(Sys.Browser.agent===Sys.Browser.InternetExplorer){var r=d.indexOf("#");if(r!==-1)d=d.substr(0,r);var n=d.indexOf("?");if(n!==-1){var u=d.substr(0,n);if(u.indexOf("%")===-1)d=encodeURI(u)+d.substr(n)}else if(d.indexOf("%")===-1)d=encodeURI(d)}c.set_url(d);c.get_headers()["X-MicrosoftAjax"]="Delta=true";c.get_headers()["Cache-Control"]="no-cache";c.set_timeout(a._asyncPostBackTimeout);c.add_completed(Function.createDelegate(a,a._onFormSubmitCompleted));c.set_body(b.toString());var k,e,l=a._get_eventHandlerList().getHandler("initializeRequest");if(l){k=a._postBackSettings.panelsToUpdate;e=new Sys.WebForms.InitializeRequestEventArgs(c,a._postBackSettings.sourceElement,k);l(a,e);i=!e.get_cancel()}if(!i){if(j)j.preventDefault();return}if(e&&e._updated){k=e.get_updatePanelsToUpdate();c.set_body(c.get_body().replace(s,a._createPanelID(k,a._postBackSettings)))}a._scrollPosition=a._getScrollPosition();a.abortPostBack();l=a._get_eventHandlerList().getHandler("beginRequest");if(l){e=new Sys.WebForms.BeginRequestEventArgs(c,a._postBackSettings.sourceElement,k||a._postBackSettings.panelsToUpdate);l(a,e)}if(a._originalDoCallback)a._cancelPendingCallbacks();a._request=c;a._processingRequest=false;c.invoke();if(j)j.preventDefault()},_onFormSubmitCompleted:function(d){var h=null,a=this;a._processingRequest=true;if(d.get_timedOut()){a._endPostBack(a._createPageRequestManagerTimeoutError(),d,h);return}if(d.get_aborted()){a._endPostBack(h,d,h);return}if(!a._request||d.get_webRequest()!==a._request)return;if(d.get_statusCode()!==200){a._endPostBack(a._createPageRequestManagerServerError(d.get_statusCode()),d,h);return}var b=a._parseDelta(d);if(!b)return;var c,f;if(b.asyncPostBackControlIDsNode&&b.postBackControlIDsNode&&b.updatePanelIDsNode&&b.panelsToRefreshNode&&b.childUpdatePanelIDsNode){var t=a._updatePanelIDs,p=a._updatePanelClientIDs,k=b.childUpdatePanelIDsNode.content,r=k.length?k.split(","):[],o=a._splitNodeIntoArray(b.asyncPostBackControlIDsNode),q=a._splitNodeIntoArray(b.postBackControlIDsNode),s=a._splitNodeIntoArray(b.updatePanelIDsNode),i=a._splitNodeIntoArray(b.panelsToRefreshNode),j=b.version4;for(c=0,f=i.length;c<f;c+=j?2:1){var l=(j?i[c+1]:"")||a._uniqueIDToClientID(i[c]);if(!document.getElementById(l)){a._endPostBack(Error.invalidOperation(String.format(Sys.WebForms.Res.PRM_MissingPanel,l)),d,b);return}}var g=a._processUpdatePanelArrays(s,o,q,j);g.oldUpdatePanelIDs=t;g.oldUpdatePanelClientIDs=p;g.childUpdatePanelIDs=r;g.panelsToRefreshIDs=i;b.updatePanelData=g}b.dataItems={};var e;for(c=0,f=b.dataItemNodes.length;c<f;c++){e=b.dataItemNodes[c];b.dataItems[e.id]=e.content}for(c=0,f=b.dataItemJsonNodes.length;c<f;c++){e=b.dataItemJsonNodes[c];b.dataItems[e.id]=Sys.Serialization.JavaScriptSerializer.deserialize(e.content)}var n=a._get_eventHandlerList().getHandler("pageLoading");if(n)n(a,a._getPageLoadingEventArgs(b));Sys._ScriptLoader.readLoadedScripts();Sys.Application.beginCreateComponents();var m=Sys._ScriptLoader.getInstance();a._queueScripts(m,b.scriptBlockNodes,true,false);a._processingRequest=true;m.loadScripts(0,Function.createDelegate(a,Function.createCallback(a._scriptIncludesLoadComplete,b)),Function.createDelegate(a,Function.createCallback(a._scriptIncludesLoadFailed,b)),h)},_onWindowUnload:function(){this.dispose()},_pageLoaded:function(a,c){var b=this._get_eventHandlerList().getHandler("pageLoaded");if(b)b(this,this._getPageLoadedEventArgs(a,c));if(!a)Sys.Application.raiseLoad()},_pageLoadedInitialLoad:function(){this._pageLoaded(true,null)},_parseDelta:function(i){var g=null,d=this,c=i.get_responseData(),e,j,G,H,F,b=0,f=g,l=[];while(b<c.length){e=c.indexOf("|",b);if(e===-1){f=d._findText(c,b);break}j=parseInt(c.substring(b,e),10);if(j%1!==0){f=d._findText(c,b);break}b=e+1;e=c.indexOf("|",b);if(e===-1){f=d._findText(c,b);break}G=c.substring(b,e);b=e+1;e=c.indexOf("|",b);if(e===-1){f=d._findText(c,b);break}H=c.substring(b,e);b=e+1;if(b+j>=c.length){f=d._findText(c,c.length);break}F=c.substr(b,j);b+=j;if(c.charAt(b)!=="|"){f=d._findText(c,b);break}b++;Array.add(l,{type:G,id:H,content:F})}if(f){d._endPostBack(d._createPageRequestManagerParserError(String.format(Sys.WebForms.Res.PRM_ParserErrorDetails,f)),i,g);return g}var z=[],x=[],r=[],y=[],u=[],E=[],C=[],B=[],w=[],t=[],n,q,v,o,p,s,A,k;for(var m=0,I=l.length;m<I;m++){var a=l[m];switch(a.type){case "#":k=a;break;case "updatePanel":Array.add(z,a);break;case "hiddenField":Array.add(x,a);break;case "arrayDeclaration":Array.add(r,a);break;case "scriptBlock":Array.add(y,a);break;case "scriptStartupBlock":Array.add(u,a);break;case "expando":Array.add(E,a);break;case "onSubmit":Array.add(C,a);break;case "asyncPostBackControlIDs":n=a;break;case "postBackControlIDs":q=a;break;case "updatePanelIDs":v=a;break;case "asyncPostBackTimeout":o=a;break;case "childUpdatePanelIDs":p=a;break;case "panelsToRefreshIDs":s=a;break;case "formAction":A=a;break;case "dataItem":Array.add(B,a);break;case "dataItemJson":Array.add(w,a);break;case "scriptDispose":Array.add(t,a);break;case "pageRedirect":if(Sys.Browser.agent===Sys.Browser.InternetExplorer){var h=document.createElement("a");h.style.display="none";h.attachEvent("onclick",D);h.href=a.content;d._form.parentNode.insertBefore(h,d._form);h.click();h.detachEvent("onclick",D);d._form.parentNode.removeChild(h);function D(a){a.cancelBubble=true}}else window.location.href=a.content;return g;case "error":d._endPostBack(d._createPageRequestManagerServerError(Number.parseInvariant(a.id),a.content),i,g);return g;case "pageTitle":document.title=a.content;break;case "focus":d._controlIDToFocus=a.content;break;default:d._endPostBack(d._createPageRequestManagerParserError(String.format(Sys.WebForms.Res.PRM_UnknownToken,a.type)),i,g);return g}}return {"version4":k?parseFloat(k.content)>=4:false,executor:i,updatePanelNodes:z,hiddenFieldNodes:x,arrayDeclarationNodes:r,scriptBlockNodes:y,scriptStartupNodes:u,expandoNodes:E,onSubmitNodes:C,dataItemNodes:B,dataItemJsonNodes:w,scriptDisposeNodes:t,asyncPostBackControlIDsNode:n,postBackControlIDsNode:q,updatePanelIDsNode:v,asyncPostBackTimeoutNode:o,childUpdatePanelIDsNode:p,panelsToRefreshNode:s,formActionNode:A}},_processUpdatePanelArrays:function(e,q,r,f){var d,c,b;if(e){var i=e.length,j=f?2:1;d=new Array(i/j);c=new Array(i/j);b=new Array(i/j);for(var g=0,h=0;g<i;g+=j,h++){var p,a=e[g],k=f?e[g+1]:"";p=a.charAt(0)==="t";a=a.substr(1);if(!k)k=this._uniqueIDToClientID(a);b[h]=p;d[h]=a;c[h]=k}}else{d=[];c=[];b=[]}var n=[],l=[];this._convertToClientIDs(q,n,l,f);var o=[],m=[];this._convertToClientIDs(r,o,m,f);return {updatePanelIDs:d,updatePanelClientIDs:c,updatePanelHasChildrenAsTriggers:b,asyncPostBackControlIDs:n,asyncPostBackControlClientIDs:l,postBackControlIDs:o,postBackControlClientIDs:m}},_queueScripts:function(scriptLoader,scriptBlockNodes,queueIncludes,queueBlocks){for(var i=0,l=scriptBlockNodes.length;i<l;i++){var scriptBlockType=scriptBlockNodes[i].id;switch(scriptBlockType){case "ScriptContentNoTags":if(!queueBlocks)continue;scriptLoader.queueScriptBlock(scriptBlockNodes[i].content);break;case "ScriptContentWithTags":var scriptTagAttributes;eval("scriptTagAttributes = "+scriptBlockNodes[i].content);if(scriptTagAttributes.src){if(!queueIncludes||Sys._ScriptLoader.isScriptLoaded(scriptTagAttributes.src))continue}else if(!queueBlocks)continue;scriptLoader.queueCustomScriptTag(scriptTagAttributes);break;case "ScriptPath":if(!queueIncludes||Sys._ScriptLoader.isScriptLoaded(scriptBlockNodes[i].content))continue;scriptLoader.queueScriptReference(scriptBlockNodes[i].content)}}},_registerDisposeScript:function(a,b){if(!this._scriptDisposes[a])this._scriptDisposes[a]=[b];else Array.add(this._scriptDisposes[a],b)},_scriptIncludesLoadComplete:function(f,b){var e=this;if(b.executor.get_webRequest()!==e._request)return;e._commitControls(b.updatePanelData,b.asyncPostBackTimeoutNode?b.asyncPostBackTimeoutNode.content:null);if(b.formActionNode)e._form.action=b.formActionNode.content;var a,d,c;for(a=0,d=b.updatePanelNodes.length;a<d;a++){c=b.updatePanelNodes[a];var k=document.getElementById(c.id);if(!k){e._endPostBack(Error.invalidOperation(String.format(Sys.WebForms.Res.PRM_MissingPanel,c.id)),b.executor,b);return}e._updatePanel(k,c.content)}for(a=0,d=b.scriptDisposeNodes.length;a<d;a++){c=b.scriptDisposeNodes[a];e._registerDisposeScript(c.id,c.content)}for(a=0,d=e._transientFields.length;a<d;a++){var h=document.getElementById(e._transientFields[a]);if(h){var l=h._isContained?h.parentNode:h;l.parentNode.removeChild(l)}}for(a=0,d=b.hiddenFieldNodes.length;a<d;a++){c=b.hiddenFieldNodes[a];e._createHiddenField(c.id,c.content)}if(b.scriptsFailed)throw Sys._ScriptLoader._errorScriptLoadFailed(b.scriptsFailed.src,b.scriptsFailed.multipleCallbacks);e._queueScripts(f,b.scriptBlockNodes,false,true);var j="";for(a=0,d=b.arrayDeclarationNodes.length;a<d;a++){c=b.arrayDeclarationNodes[a];j+="Sys.WebForms.PageRequestManager._addArrayElement('"+c.id+"', "+c.content+");\r\n"}var i="";for(a=0,d=b.expandoNodes.length;a<d;a++){c=b.expandoNodes[a];i+=c.id+" = "+c.content+"\r\n"}if(j.length)f.queueScriptBlock(j);if(i.length)f.queueScriptBlock(i);e._queueScripts(f,b.scriptStartupNodes,true,true);var g="";for(a=0,d=b.onSubmitNodes.length;a<d;a++){if(a===0)g="Array.add(Sys.WebForms.PageRequestManager.getInstance()._onSubmitStatements, function() {\r\n";g+=b.onSubmitNodes[a].content+"\r\n"}if(g.length){g+="\r\nreturn true;\r\n});\r\n";f.queueScriptBlock(g)}f.loadScripts(0,Function.createDelegate(e,Function.createCallback(e._scriptsLoadComplete,b)),null,null)},_scriptIncludesLoadFailed:function(d,c,b,a){a.scriptsFailed={src:c.src,multipleCallbacks:b};this._scriptIncludesLoadComplete(d,a)},_scriptsLoadComplete:function(h,e){var d=null,a=this,g=e.executor;if(window.__theFormPostData)window.__theFormPostData="";if(window.__theFormPostCollection)window.__theFormPostCollection=[];if(window.WebForm_InitCallback)window.WebForm_InitCallback();if(a._scrollPosition){if(window.scrollTo)window.scrollTo(a._scrollPosition.x,a._scrollPosition.y);a._scrollPosition=d}Sys.Application.endCreateComponents();a._pageLoaded(false,e);a._endPostBack(d,g,e);if(a._controlIDToFocus){var b,f;if(Sys.Browser.agent===Sys.Browser.InternetExplorer){var c=$get(a._controlIDToFocus);b=c;if(c&&!WebForm_CanFocus(c))b=WebForm_FindFirstFocusableChild(c);if(b&&typeof b.contentEditable!=="undefined"){f=b.contentEditable;b.contentEditable=false}else b=d}WebForm_AutoFocus(a._controlIDToFocus);if(b)b.contentEditable=f;a._controlIDToFocus=d}},_splitNodeIntoArray:function(b){var a=b.content,c=a.length?a.split(","):[];return c},_uniqueIDToClientID:function(a){return a.replace(/\$/g,"_")},_updateControls:function(d,a,c,b,e){this._commitControls(this._processUpdatePanelArrays(d,a,c,e),b)},_updatePanel:function(updatePanelElement,rendering){var a=this;for(var updatePanelID in a._scriptDisposes)if(a._elementContains(updatePanelElement,document.getElementById(updatePanelID))){var disposeScripts=a._scriptDisposes[updatePanelID];for(var i=0,l=disposeScripts.length;i<l;i++)eval(disposeScripts[i]);delete a._scriptDisposes[updatePanelID]}Sys.Application.disposeElement(updatePanelElement,true);updatePanelElement.innerHTML=rendering},_validPosition:function(a){return typeof a!=="undefined"&&a!==null&&a!==0}};Sys.WebForms.PageRequestManager.getInstance=function(){var a=Sys.WebForms.PageRequestManager._instance;if(!a)a=Sys.WebForms.PageRequestManager._instance=new Sys.WebForms.PageRequestManager;return a};Sys.WebForms.PageRequestManager._addArrayElement=function(a){if(!window[a])window[a]=[];for(var b=1,c=arguments.length;b<c;b++)Array.add(window[a],arguments[b])};Sys.WebForms.PageRequestManager._initialize=function(){var a=Sys.WebForms.PageRequestManager.getInstance();a._initializeInternal.apply(a,arguments)};Sys.WebForms.PageRequestManager.registerClass("Sys.WebForms.PageRequestManager");Sys.UI._UpdateProgress=function(c){var b=null,a=this;Sys.UI._UpdateProgress.initializeBase(a,[c]);a._displayAfter=500;a._dynamicLayout=true;a._associatedUpdatePanelId=b;a._beginRequestHandlerDelegate=b;a._startDelegate=b;a._endRequestHandlerDelegate=b;a._pageRequestManager=b;a._timerCookie=b};Sys.UI._UpdateProgress.prototype={get_displayAfter:function(){return this._displayAfter},set_displayAfter:function(a){this._displayAfter=a},get_dynamicLayout:function(){return this._dynamicLayout},set_dynamicLayout:function(a){this._dynamicLayout=a},get_associatedUpdatePanelId:function(){return this._associatedUpdatePanelId},set_associatedUpdatePanelId:function(a){this._associatedUpdatePanelId=a},get_role:function(){return "status"},_clearTimeout:function(){if(this._timerCookie){window.clearTimeout(this._timerCookie);this._timerCookie=null}},_getUniqueID:function(b){var a=Array.indexOf(this._pageRequestManager._updatePanelClientIDs,b);return a===-1?null:this._pageRequestManager._updatePanelIDs[a]},_handleBeginRequest:function(g,f){var a=this,c=f.get_postBackElement(),b=true,e=a._associatedUpdatePanelId;if(a._associatedUpdatePanelId){var d=f.get_updatePanelsToUpdate();if(d&&d.length)b=Array.contains(d,e)||Array.contains(d,a._getUniqueID(e));else b=false}while(!b&&c){if(c.id&&a._associatedUpdatePanelId===c.id)b=true;c=c.parentNode}if(b)a._timerCookie=window.setTimeout(a._startDelegate,a._displayAfter)},_startRequest:function(){var a=this;if(a._pageRequestManager.get_isInAsyncPostBack()){var b=a.get_element();if(a._dynamicLayout)b.style.display="block";else b.style.visibility="visible";if(a.get_role()==="status")b.setAttribute("aria-hidden","false")}a._timerCookie=null},_handleEndRequest:function(){var a=this,b=a.get_element();if(a._dynamicLayout)b.style.display="none";else b.style.visibility="hidden";if(a.get_role()==="status")b.setAttribute("aria-hidden","true");a._clearTimeout()},dispose:function(){var a=this;if(a._beginRequestHandlerDelegate!==null){a._pageRequestManager.remove_beginRequest(a._beginRequestHandlerDelegate);a._pageRequestManager.remove_endRequest(a._endRequestHandlerDelegate);a._beginRequestHandlerDelegate=null;a._endRequestHandlerDelegate=null}a._clearTimeout();Sys.UI._UpdateProgress.callBaseMethod(a,"dispose")},initialize:function(){var a=this;Sys.UI._UpdateProgress.callBaseMethod(a,"initialize");if(a.get_role()==="status")a.get_element().setAttribute("aria-hidden","true");a._beginRequestHandlerDelegate=Function.createDelegate(a,a._handleBeginRequest);a._endRequestHandlerDelegate=Function.createDelegate(a,a._handleEndRequest);a._startDelegate=Function.createDelegate(a,a._startRequest);if(Sys.WebForms&&Sys.WebForms.PageRequestManager)a._pageRequestManager=Sys.WebForms.PageRequestManager.getInstance();if(a._pageRequestManager!==null){a._pageRequestManager.add_beginRequest(a._beginRequestHandlerDelegate);a._pageRequestManager.add_endRequest(a._endRequestHandlerDelegate)}}};Sys.UI._UpdateProgress.registerClass("Sys.UI._UpdateProgress",Sys.UI.Control);
Type.registerNamespace('Sys.WebForms');Sys.WebForms.Res={'PRM_UnknownToken':'Unknown token: \'{0}\'.','PRM_MissingPanel':'Could not find UpdatePanel with ID \'{0}\'. If it is being updated dynamically then it must be inside another UpdatePanel.','PRM_ServerError':'An unknown error occurred while processing the request on the server. The status code returned from the server was: {0}','PRM_ParserError':'The message received from the server could not be parsed. Common causes for this error are when the response is modified by calls to Response.Write(), response filters, HttpModules, or server trace is enabled.\r\nDetails: {0}','PRM_TimeoutError':'The server request timed out.','PRM_ParserErrorDetails':'Error parsing near \'{0}\'.','PRM_CannotRegisterTwice':'The PageRequestManager cannot be initialized more than once.'};
